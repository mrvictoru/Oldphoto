<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Photo Restoration</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/FastHtml/fasthtml@main/dist/fast.min.css">
  <link rel="stylesheet" href="/static/styles.css">
  </head>
  <body>
    <header>
      <h2 style="margin:0">Photo Restoration</h2>
      <div style="display:flex;align-items:center;gap:14px">
        <div class="muted" id="subtitle">Upload JPG/PNG/WEBP up to 5MB</div>
        <button id="themeToggle" class="btn small" style="background:transparent;border:1px solid rgba(255,255,255,0.25);padding:6px 10px;border-radius:8px;cursor:pointer;font-size:0.85rem">üåô</button>
      </div>
    </header>

    <div class="layout">
      <!-- Left: controls -->
      <section class="card">

  <div class="header-uploader" id="headerDropArea" title="Drag and drop an image here (JPG/PNG/WEBP, max 5MB)" tabindex="0" role="button" aria-label="Upload image">
          <div class="header-icon">üì∑</div>
          <div>
            <div style="font-weight:600;font-size:1.08rem">Photo Restoration</div>
            <div class="muted" style="font-size:0.92rem">Drag & drop or click below to upload an image</div>
          </div>
        </div>


        <div style="margin-top:14px">
          <input id="fileInput" type="file" accept="image/*" class="hidden" />


          <div style="display:flex;align-items:center;gap:10px;margin-top:4px">
            <label style="display:flex;align-items:center;gap:6px;font-size:0.8rem;cursor:pointer">
              <input type="checkbox" id="colorizeToggle" style="accent-color:#6366f1"> Colorize
            </label>
            <button id="createBtn" class="btn primary create-btn" style="flex:1">Create</button>
          </div>

          <div id="status" class="muted" style="margin-top:10px;min-height:22px"></div>

          <div style="margin-top:18px">
            <div style="font-weight:600;margin-bottom:6px">History</div>
            <ul id="history" class="history-list"></ul>
            <button id="refreshHistory" class="btn primary create-btn" style="margin-top:4px;width:100%">Refresh History</button>
          </div>
        </div>
      </section>

      <!-- Right: preview -->
      <section class="card">
        <div class="sample-header">
          <div style="font-weight:600">Sample Image</div>
          <div class="muted">(The Created image results will appear here)</div>
        </div>

        <div class="slider-wrap" id="previewWrap" style="min-height:360px;display:flex;align-items:center;justify-content:center">
          <div id="placeholder" class="muted">No image yet ‚Äî upload and press Create</div>
          <img id="beforeImg" src="" alt="before" style="width:100%;display:none" />
          <img id="afterImg" src="" alt="after" class="overlay-img" style="clip-path: inset(0 50% 0 0); display:none" />
          <div class="handle" id="handle" style="display:none">‚óê</div>
          <div class="range" style="display:none">
            <input id="slider" type="range" min="0" max="100" value="50" style="width:100%" />
          </div>
        </div>
      </section>
    </div>

  <script src="/static/app.js" defer></script>
  </body>
</html>
