<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Photo Restoration</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/FastHtml/fasthtml@main/dist/fast.min.css">
  <link rel="stylesheet" href="/static/styles.css">
  </head>
  <body>
    <header>
      <h2 style="margin:0">Photo Restoration</h2>
      <div style="display:flex;align-items:center;gap:14px">
        <div class="muted" id="subtitle">Upload JPG/PNG/WEBP up to 5MB</div>
        <button id="themeToggle" class="btn small" style="background:transparent;border:1px solid rgba(255,255,255,0.25);padding:6px 10px;border-radius:8px;cursor:pointer;font-size:0.85rem">üåô</button>
      </div>
    </header>

    <div class="layout">
      <!-- Left: controls -->
      <section class="card">
        <div style="display:flex;align-items:center;gap:12px">
          <div style="width:56px;height:56px;background:#0f2433;border-radius:8px"></div>
          <div>
            <div style="font-weight:600">Photo Restoration</div>
            <div class="muted" style="font-size:0.9rem">Restore old photos in one click</div>
          </div>
        </div>

        <div style="margin-top:14px">
          <label for="fileInput" class="uploader-drop" id="dropArea">
            <div style="font-size:1.02rem;font-weight:600">Upload image</div>
            <div class="muted" style="margin-top:6px">Drag or click to choose an image</div>
            <input id="fileInput" type="file" accept="image/*" class="hidden" />
          </label>

          <div class="muted" style="margin-top:10px">Upload JPG/PNG/WEBP images up to 5MB</div>


          <button id="createBtn" class="btn primary create-btn">Create</button>

          <div id="status" class="muted" style="margin-top:10px;min-height:22px"></div>

          <div style="margin-top:18px">
            <div style="font-weight:600;margin-bottom:6px">History</div>
            <ul id="history" class="history-list"></ul>
            <button id="refreshHistory" class="btn small" style="margin-top:4px;width:100%">Refresh History</button>
          </div>
        </div>
      </section>

      <!-- Right: preview -->
      <section class="card">
        <div class="sample-header">
          <div style="font-weight:600">Sample Image</div>
          <div class="muted">(The Created image results will appear here)</div>
        </div>

        <div class="slider-wrap" id="previewWrap" style="min-height:360px;display:flex;align-items:center;justify-content:center">
          <div id="placeholder" class="muted">No image yet ‚Äî upload and press Create</div>
          <img id="beforeImg" src="" alt="before" style="width:100%;display:none" />
          <img id="afterImg" src="" alt="after" class="overlay-img" style="clip-path: inset(0 50% 0 0); display:none" />
          <div class="handle" id="handle" style="display:none">‚óê</div>
          <div class="range" style="display:none">
            <input id="slider" type="range" min="0" max="100" value="50" style="width:100%" />
          </div>
        </div>
      </section>
    </div>

  <script src="/static/app.js" defer></script>
  </body>
</html>
